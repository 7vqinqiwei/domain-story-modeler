<mat-card *ngIf="autosaveStateService.state$ | async as autosaveState">
  <mat-card-header>
    <mat-card-title>Autosave</mat-card-title>
  </mat-card-header>
  <mat-card-content class="cardContent">
    <div class="alignSelfCenter">
      <input
        #activated
        type="checkbox"
        [checked]="autosaveState.activated"
      />
      <mat-label>Enabled</mat-label>
    </div>
    <div class="inputContainer">
      <mat-label>Interval</mat-label>
      <input
        #interval
        class="numberInput"
        min="1"
        type="number"
        [value]="autosaveState.interval"
      />
    </div>
    <div class="inputContainer">
      <mat-label>Amount</mat-label>
      <input
        #amount
        class="numberInput"
        min="1"
        type="number"
        [value]="autosaveState.amount"
      />
    </div>
    <button
      class="saveButton"
      mat-raised-button
      color="primary"
      (click)="save(activated.checked, +amount.value, +interval.value)"
    >
      Save
    </button>
  </mat-card-content>
</mat-card>

<mat-accordion>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title> Autosaves </mat-panel-title>
      <mat-panel-description> List of all Autosaves </mat-panel-description>
    </mat-expansion-panel-header>
    <mat-list *ngFor="let autosave of autosaves" class="items">
      <mat-list-item>
        <div class="item">
          <span class="itemSpan">{{ autosave.date }}</span>
          <div class="separator"></div>
          <button
            mat-raised-button
            color="primary"
            (click)="loadAutosave(autosave)"
          >
            load
          </button>
        </div>
      </mat-list-item>
    </mat-list>
  </mat-expansion-panel>
</mat-accordion>
